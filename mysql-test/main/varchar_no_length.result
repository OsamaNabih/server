#
# SQL Standard T081: VARCHAR without explicit length specification
#
#
# Basic test: CREATE TABLE with VARCHAR without length
#
CREATE TABLE t1 (a VARCHAR);
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` varchar(16383) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci
DESC t1;
Field	Type	Null	Key	Default	Extra
a	varchar(16383)	YES		NULL	
# Verify we can insert and retrieve data
INSERT INTO t1 VALUES ('test string');
INSERT INTO t1 VALUES ('');
INSERT INTO t1 VALUES (NULL);
SELECT * FROM t1;
a
test string

NULL
DROP TABLE t1;
#
# Test VARCHAR without length with various character sets
#
CREATE TABLE t1 (a VARCHAR CHARSET utf8mb4);
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` varchar(16383) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci
DROP TABLE t1;
CREATE TABLE t1 (a VARCHAR CHARSET latin1);
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` varchar(65532) CHARACTER SET latin1 COLLATE latin1_swedish_ci DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_ai_ci
DROP TABLE t1;
